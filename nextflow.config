manifest {
	homePage = 'https://github.com/EpiRnaTools/ribomethseq-nf'
	description = 'RiboMethSeq data processing'
	mainScript = 'main.nf'
	name = 'ribomethseq-nf'
	author = 'Hermes Paraqindes, Theo Combe'
	version = '1.0'
}

/***************************************************************/
/*                  Nextflow execution reporting               */
/***************************************************************/
params.outdir      = '.'
params.logdir      = params.outdir
params.report_dir  = params.logdir
params.report_base = 'ribomethseq-nf.report'

report {
	enabled = true
	file = "${params.report_dir}/${params.report_base}/report.html"
}

timeline {
	enabled = true
	file = "${params.report_dir}/${params.report_base}/timeline.html"
}

dag {
	enabled = true
	file = "${params.report_dir}/${params.report_base}/dag.png"
}

trace {
	enabled = true
	fields = 'process,task_id,hash,name,attempt,status,exit,realtime,cpus,memory,%cpu,vmem,rss,submit,start,complete,duration,realtime,rchar,wchar'
	file = "${params.report_dir}/${params.report_base}/trace.txt"
}

/***************************************************************/
/*                  Nextflow execution parameters              */
/***************************************************************/

profiles {
	conda {
		conda.enabled = true
		process.conda = "$baseDir/docker/conda.yml"
		includeConfig "nf-config/exec.config"
	}
	docker {
		docker.enabled = true
		process.container = 'ribomethseq-nf:1.0'
		//process.containerOptions = ''
		includeConfig "nf-config/exec.config"
	}
	human {
		includeConfig "nf-config/human.config"
	}
	mouse {
		includeConfig "nf-config/mouse.config"
	}
}
